<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PinkBlue Quizmas 2025 - Dental Quiz Challenge</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="gradient-bg"></div>
  <div class="mesh-gradient"></div>

  <div class="app-wrapper">
    <header class="top-nav">
      <div class="nav-content">
        <div class="logo-mark">PB Quiz</div>
        <div class="nav-stats">
          <div class="attempts-badge">
            <div class="attempts-label">Attempts left</div>
            <div class="attempts-value" id="attemptsLeft">2</div>
          </div>
        </div>
      </div>
    </header>

    <main id="startScreen" class="screen active">
      <div class="screen-content">
        <section class="hero-section">
          <h1 class="hero-title">PinkBlue <span class="gradient-text">Quizmas</span></h1>
          <p class="hero-subtitle">Answer 10 advanced dental questions in 2 minutes and unlock exclusive rewards!</p>
        </section>

        <section class="rewards-preview">
          <h2 class="section-title">Rewards you can win</h2>
          <div id="rewardsCarousel" class="rewards-carousel"></div>
        </section>

        <div class="button-stack">
          <button id="startBtn" class="btn btn-primary btn-large btn-glow">
            <span class="btn-text">START CHALLENGE</span>
          </button>
          <button id="leaderboardBtn" class="btn btn-secondary btn-small">
            <span class="btn-text">Leaderboard</span>
          </button>
          <button id="historyBtn" class="btn btn-secondary btn-small" style="display:none;">
            <span class="btn-text">My Attempts</span>
          </button>
        </div>
      </div>
    </main>

    <main id="quizScreen" class="screen">
      <div class="screen-content">
        <div id="noRewardsMessage" class="no-rewards-message" style="display:none;">
          <div class="no-rewards-icon">üìö</div>
          <div class="no-rewards-title">Practice Mode</div>
          <div class="no-rewards-text">No reward attempts left - keep practicing to improve!</div>
        </div>

        <div class="progress-pills">
          <div id="progressText" class="progress-text">Question 1 of 10</div>
          <div id="progressPills" class="pill-container"></div>
        </div>

        <div class="question-header-row">
          <div class="question-number">
            <span id="qNumber">01</span>
            <span class="q-separator">/</span>
            <span class="q-total">10</span>
          </div>
          <div id="inlineTimer">Time: 2:00</div>
        </div>

        <div class="question-card">
          <div id="questionText" class="question-text">Loading question...</div>
        </div>

        <div id="optionsList" class="options-list"></div>

        <button id="nextBtn" class="btn btn-primary btn-large btn-disabled" disabled>
          <span class="btn-text">Next Question</span>
        </button>
      </div>
    </main>

    <main id="resultsScreen" class="screen">
      <div class="screen-content">
        <h2 id="resultsTitle" class="results-title">Quiz Complete!</h2>
        <p id="resultsSubtitle" class="results-subtitle">Your performance summary</p>

        <div class="score-circle-wrapper">
          <div class="score-content">
            <div id="scoreValue" class="score-value">0</div>
            <div class="score-label">/ 10</div>
          </div>
        </div>

        <div id="noRewardsMessageResults" class="no-rewards-message" style="display:none;">
          <div class="no-rewards-icon">üìö</div>
          <div class="no-rewards-title">Practice Mode</div>
          <div class="no-rewards-text">You've used all reward attempts.</div>
        </div>

        <section id="rewardCard" class="reward-card" style="display:none;">
          <div class="reward-badge">üéÅ</div>
          <h3 id="rewardTitle" class="reward-title">Your Reward</h3>
          <p id="rewardDesc" class="reward-desc"></p>
          <div class="coupon-box">
            <div class="coupon-label">Coupon Code</div>
            <div id="couponCode" class="coupon-code">XXXXX</div>
            <button id="copyBtn" class="btn-copy"><span>Copy Code</span></button>
          </div>
        </section>

        <div class="button-stack">
          <a href="https://pinkblue.in/cart" class="btn btn-primary btn-large" target="_blank">
            <span class="btn-text">Redeem on PinkBlue</span>
          </a>
          <button id="shareBtn" class="btn btn-whatsapp btn-small">
            <span class="btn-text">Share on WhatsApp</span>
          </button>
          <button id="tryAgainBtn" class="btn btn-secondary btn-small">
            <span class="btn-text">Play Again</span>
          </button>
        </div>
      </div>
    </main>

    <main id="leaderboardScreen" class="screen">
      <div class="screen-content">
        <div class="screen-header">
          <button id="backBtn" class="back-btn">‚Üê</button>
          <h2 class="screen-title">Leaderboard</h2>
          <div class="header-spacer"></div>
        </div>
        <div id="leaderboardContainer" class="leaderboard-container"></div>
      </div>
    </main>

    <main id="historyScreen" class="screen">
      <div class="screen-content">
        <div class="screen-header">
          <button id="backFromHistory" class="back-btn">‚Üê</button>
          <h2 class="screen-title">My Attempts</h2>
          <div class="header-spacer"></div>
        </div>
        <div id="historyContainer" class="history-container"></div>
      </div>
    </main>

    <div id="rulesModal" class="modal">
      <div class="modal-content">
        <h3>Quiz Rules</h3>
        <ul>
          <li>10 advanced dental questions</li>
          <li>2 minutes total time</li>
          <li>Higher score = better reward</li>
          <li>Maximum 2 reward attempts per user</li>
        </ul>
        <button id="rulesOkayBtn" class="btn btn-primary btn-small">
          <span class="btn-text">Got it, Start!</span>
        </button>
      </div>
    </div>

    <div id="emailModal" class="modal">
      <div class="modal-content">
        <h3>Enter Your Email</h3>
        <p class="modal-subtitle">To track your rewards and attempts</p>
        <input type="email" id="emailInput" placeholder="you@example.com" autocomplete="email" />
        <button id="emailSubmitBtn" class="btn btn-primary btn-small">
          <span class="btn-text">Continue</span>
        </button>
      </div>
    </div>

    <div id="countdownOverlay" class="countdown-overlay">
      <div id="countdownNumber">3</div>
    </div>

    <div id="toast" class="toast">
      <div id="toastIcon" class="toast-icon">‚úì</div>
      <div id="toastMessage" class="toast-message"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/config.js"></script>
  <script src="js/supabase.js"></script>
  <script src="js/quiz.js"></script>
</body>
</html>
